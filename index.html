<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Integral Explorer</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons for hamburger menu -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
    <!-- MathJax for mathematical expressions -->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']],
                processEscapes: true,
                processEnvironments: true
            },
            options: {
                skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
                ignoreHtmlClass: 'tex2jax_ignore',
                processHtmlClass: 'tex2jax_process'
            }
        };
    </script>
    <!-- Custom styles -->
    <link href="assets/css/styles.css" rel="stylesheet">
    <!-- Math Interface styles -->
    <link href="assets/css/math-interface.css" rel="stylesheet">
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg">
        <div class="container-fluid">
            <!-- Logo/Home button on the left -->
            <a class="navbar-brand" href="index.html">
                <i class="bi bi-house-fill me-2"></i>Integral Explorer
            </a>
            
            <!-- Hamburger dropdown on the right -->
            <div class="dropdown ms-auto">
                <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                    <i class="bi bi-list" style="font-size: 1.5rem;"></i>
                </button>
                <ul class="dropdown-menu dropdown-menu-end">
                    <li><a class="dropdown-item" href="faqs.html">FAQs</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Main content area -->
    <main class="main-content">
        <div class="container-fluid h-100">
            <div class="row h-100">
                <!-- Left half - Interactive Integration Practice Interface -->
                <div class="col-md-6 d-flex align-items-center justify-content-center">
                    <div class="math-interface">
                        <div class="card shadow-sm">
                            <div class="card-header bg-primary text-white">
                                <h5 class="mb-0"><i class="bi bi-calculator me-2"></i>Integration Practice Assistant</h5>
                            </div>
                            <div class="card-body">
                                <!-- Function Input Section -->
                                <div class="mb-4">
                                    <label for="functionInput" class="form-label">Enter a function to integrate:</label>
                                    <div class="input-group">
                                        <span class="input-group-text">âˆ«</span>
                                        <input type="text" class="form-control" id="functionInput" placeholder="e.g., x^2, sin(x), x*e^x">
                                        <span class="input-group-text">dx</span>
                                    </div>
                                    <div class="form-text">Use ^ for powers, * for multiplication, sin, cos, tan, ln, e^x</div>
                                </div>

                                <!-- Live Preview Section -->
                                <div class="mb-4">
                                    <div class="preview-section">
                                        <h6>Function Preview:</h6>
                                        <div id="functionPreview" class="math-preview">
                                            $$\int f(x) \, dx$$
                                        </div>
                                    </div>
                                </div>

                                <!-- Integration Technique Selector -->
                                <div class="mb-4">
                                    <label class="form-label">Choose integration technique:</label>
                                    <select class="form-select" id="techniqueSelect">
                                        <option value="">Let me analyze the function</option>
                                        <option value="power">Power Rule</option>
                                        <option value="substitution">U-Substitution</option>
                                        <option value="parts">Integration by Parts</option>
                                        <option value="trig">Trigonometric Integration</option>
                                        <option value="partial">Partial Fractions</option>
                                    </select>
                                </div>

                                <!-- Action Buttons -->
                                <div class="d-grid gap-2 d-md-flex justify-content-md-center mb-4">
                                    <button class="btn btn-success" id="analyzeBtn">
                                        <i class="bi bi-search me-1"></i>Analyze Function
                                    </button>
                                    <button class="btn btn-info" id="hintBtn" disabled>
                                        <i class="bi bi-lightbulb me-1"></i>Get Hint
                                    </button>
                                    <button class="btn btn-warning" id="stepBtn" disabled>
                                        <i class="bi bi-arrow-right me-1"></i>Next Step
                                    </button>
                                </div>

                                <!-- Progress Indicator -->
                                <div class="mb-3">
                                    <div class="progress" style="height: 8px;">
                                        <div class="progress-bar" id="progressBar" role="progressbar" style="width: 0%"></div>
                                    </div>
                                    <small class="text-muted" id="progressText">Ready to start</small>
                                </div>

                                <!-- Solution Area -->
                                <div id="solutionArea" class="solution-area" style="display: none;">
                                    <h6>Step-by-Step Solution:</h6>
                                    <div id="steps" class="steps-container"></div>
                                </div>

                                <!-- Answer Input Section -->
                                <div id="answerSection" class="answer-input-section" style="display: none;">
                                    <div class="mb-3">
                                        <label for="answerInput" class="form-label">Enter your final answer:</label>
                                        <div class="input-group">
                                            <input type="text" class="form-control" id="answerInput" placeholder="e.g., x^3/3, sin(x), x*e^x - e^x">
                                            <span class="input-group-text">+ C</span>
                                        </div>
                                        <div class="form-text">Don't include the constant of integration - we'll add it automatically</div>
                                    </div>
                                    
                                    <!-- Answer Preview -->
                                    <div class="mb-3">
                                        <h6>Answer Preview:</h6>
                                        <div id="answerPreview" class="answer-preview">
                                            Your answer will appear here...
                                        </div>
                                    </div>
                                    
                                    <!-- Validation Buttons -->
                                    <div class="d-grid gap-2 d-md-flex justify-content-md-center mb-3">
                                        <button class="btn btn-primary" id="checkAnswerBtn" disabled>
                                            <i class="bi bi-check-circle me-1"></i>Check Answer
                                        </button>
                                        <button class="btn btn-secondary" id="resetBtn">
                                            <i class="bi bi-arrow-clockwise me-1"></i>Reset
                                        </button>
                                    </div>
                                    
                                    <!-- Answer Validation Area -->
                                    <div id="validationArea" class="answer-validation" style="display: none;">
                                        <div id="validationMessage"></div>
                                    </div>
                                </div>

                                <!-- Hints Area -->
                                <div id="hintsArea" class="hints-area" style="display: none;">
                                    <div class="accordion" id="hintsAccordion"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Right half - Desmos graphing tool -->
                <div class="col-md-6 d-flex align-items-center justify-content-center">
                    <div id="calculator"></div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer d-flex align-items-center justify-content-end">
        <div class="text-end pe-3">
            <p class="mb-0">by MathJack, 2025</p>
        </div>
    </footer>

    <!-- Scroll to Top Button -->
    <button id="scrollToTopBtn" class="btn btn-primary" style="position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); z-index: 1000; border-radius: 50%; width: 50px; height: 50px; display: none; box-shadow: 0 4px 8px rgba(0,0,0,0.3);">
        <i class="bi bi-arrow-up" style="font-size: 1.2rem;"></i>
    </button>

    <!-- Desmos API -->
    <script src="https://www.desmos.com/api/v1.9/calculator.js?apiKey=dcb31709b452b1cf9dc26972add0fda6"></script>
    
    <!-- Bootstrap JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Initialize Desmos Calculator -->
    <script>
        // Wait for the page to load
        document.addEventListener('DOMContentLoaded', function() {
            var elt = document.getElementById('calculator');
            var calculator = Desmos.GraphingCalculator(elt);
            
            // Add a sample equation to get started
            calculator.setExpression({ id: 'graph1', latex: 'y=x^2' });
        });
    </script>

    <!-- Integration Assistant JavaScript -->
    <script src="assets/js/simple-integration-assistant.js"></script>

    <!-- Scroll to Top Button JavaScript -->
    <script>
        // Show/hide scroll to top button based on scroll position
        window.addEventListener('scroll', function() {
            const scrollToTopBtn = document.getElementById('scrollToTopBtn');
            if (window.pageYOffset > 300) {
                scrollToTopBtn.style.display = 'block';
            } else {
                scrollToTopBtn.style.display = 'none';
            }
        });

        // Smooth scroll to top when button is clicked
        document.getElementById('scrollToTopBtn').addEventListener('click', function() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });
    </script>
</body>
</html>
